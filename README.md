# cef-widget

Мод для отображения браузерных виджетов в игре World of Tanks и Мир Танков.

> **Внимание!**  
> Мод находится в ранней стадии разработки  
> - Не работает в бою
> - Может лагать (редко)
> - Может крашить игру (стабильно)
> - Нет интерфейса для добавления виджетов


## Добавление виджетов

`createWidget(url, port, width, height)`
- url – ссылка на виджет
- port – порт на котором будет запущен CEF сервер
- width – ширина виджета
- height – высота виджета

```python
from gui.mods.wotstatWidget import createWidget

createWidget('file:///C:/Users/Andrei/Desktop/index.html', 30001, 500, 500)
createWidget('https://wotstat.info/widget/rtk-big?nickname=__NIDIN__&color=73c9ed', 30002, 500, 500)
```

## Инструкция для разработчиков виджетов

> Вам пока рано.

## Сборка мода из исходников

Сборка осуществляется с помощью `bash` скрипта `build.sh` в корне проекта.
Поддерживаются опции:
- `-v 0.0.1` - версия мода
- `-d` - отладочная сборка
- `-m` – сборка только мода (без сборки CEF сервера)
- `-p` – сборка только питона (без сборки CEF сервера и ActionScript)

Мод состоит из трёх частей:
- Отдельный процесс `CEF сервера` на котором будут крутиться браузеры. CEF – Chromium Embedded Framework (буквально браузер Chrome с которым можно взаимодействовать через код).  
  Используется версия `v123.0.7+chromium-123.0.6312.46`. Собрана вручную из [PR#669](https://github.com/cztomczak/cefpython/pull/669) в ветке `cefpython123`.
- Мод на `Python2.7` для взаимодействия с игрой, графикой и `CEF сервером`
- Графический интерфейс на `ActionScript 3` для отображения виджетов

